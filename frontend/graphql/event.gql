fragment EventFields on Event {
  id
  uuid
  name
  description
  email
  date
  address
  position
  waitingList {
    id
    name
    location
    user {
      id
      firstName
      lastName
    }
  }
  travels {
    id
    meeting
    departure
    details
    vehicleName
    phone_number
    seats
    passengers {
      id
      name
      location
      user {
        id
        firstName
        lastName
      }
    }
  }
}

mutation createEvent(
  $name: String!
  $email: String!
  $date: Date
  $address: String
  $description: String
  $newsletter: Boolean
) {
  createEvent(
    input: {
      data: {
        name: $name
        email: $email
        date: $date
        address: $address
        description: $description
        newsletter: $newsletter
      }
    }
  ) {
    event {
      ...EventFields
    }
  }
}

mutation updateEvent($uuid: String!, $eventUpdate: editEventInput) {
  updateEventByUUID(input: {where: {uuid: $uuid}, data: $eventUpdate}) {
    event {
      ...EventFields
    }
  }
}

query eventByUUID($uuid: String!) {
  eventByUUID(uuid: $uuid) {
    ...EventFields
  }
}
